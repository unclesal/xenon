// *********************************************************************************************************************
// *                                           Окружающая действительность.                                            *
// *                                                                                                                   *
// * Eugene G. Sysoletin <e.g.sysoletin@gmail.com>                                        Created 14 sep 2019 at 19:22 *
// *********************************************************************************************************************

#include "Ambient.h"

using namespace xenon;
using namespace std;

string Ambient::COMMAND_NAME = "Ambient";

// *********************************************************************************************************************
// *                                                                                                                   *
// *                                                   Конструктор.                                                    *
// *                                                                                                                   *
// *********************************************************************************************************************

Ambient::Ambient() 
    : JSONAble()
{
    _command_name = Ambient::COMMAND_NAME;
    _ambient_temperature = 0.0;
    _agl = 0.0;
}

// *********************************************************************************************************************
// *                                                                                                                   *
// *                                          Преобразование объекта в JSON                                            *
// *                                                                                                                   *
// *********************************************************************************************************************

void Ambient::to_json( JSON & json ) {
    
    JSONAble::to_json( json );
    
    json["ambient_temperature"] = _ambient_temperature;
    json["agl"] = _agl;
    
}

// *********************************************************************************************************************
// *                                                                                                                   *
// *                                         Преобразование объекта из JSONа                                           *
// *                                                                                                                   *
// *********************************************************************************************************************
void Ambient::from_json( JSON & json ) {
    
    JSONAble::from_json( json );
    
    _ambient_temperature = json.value( "ambient_temperature", 0.0 );
    _agl = json.value("agl", 0.0 );

}

// *********************************************************************************************************************
// *                                                                                                                   *
// *                                                   Деструктор                                                      *
// *                                                                                                                   *
// *********************************************************************************************************************

Ambient::~Ambient() {
}


